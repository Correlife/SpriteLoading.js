var SpriteLoading=function(t,i){i=i||{};var r=$.extend({width:60,height:60,delay:40,frames:{start:1,loop_start:12,loop_end:35,out_end:45},theme:"light",sprite_url:"https://correlife.org/img/loading.png",sprite_url_dark:"https://correlife.org/img/loading-dark.png"},i),e=r.frames.start,a=this;this.set_finish=!1,this.finish_callback=!1;var s=$('<div class="sprite-loading"></div>').appendTo(t);s.css({background:"url('"+("dark"===r.theme?r.sprite_url_dark:r.sprite_url)+"')",width:r.width+"px",height:r.height+"px",position:"relative","background-position-x":0,"background-position-y":"-"+r.height+"px",top:"50%",transform:"translateY(-50%)","-webkit-transform":"translateY(-50%)","-ms-transform":"translateY(-50%)",left:"50%","margin-left":"-"+r.width/2+"px"});var n=window.setInterval(function(){e+=1,e>r.frames.loop_end&&(a.set_finish===!0?e>r.frames.out_end&&(clearInterval(n),s.remove(),a.finish_callback()):e=r.frames.loop_start),s.css("background-position-y",-r.height*(e-1))},r.delay)};SpriteLoading.prototype.finish=function(t){this.set_finish=!0,this.finish_callback=t};
